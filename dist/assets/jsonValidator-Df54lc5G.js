import{s as f}from"./index-Cvgiw8zi.js";function m(l,i){function o(r,e,n=""){if(e.type){if(e.type==="object"&&typeof r!="object")return`${n} should be object`;if(e.type==="array"&&!Array.isArray(r))return`${n} should be array`;if(e.type==="string"&&typeof r!="string")return`${n} should be string`;if(e.type==="number"&&typeof r!="number")return`${n} should be number`;if(e.type==="boolean"&&typeof r!="boolean")return`${n} should be boolean`}if(e.required&&Array.isArray(e.required)){for(const t of e.required)if(r==null||!(t in r))return`${n}.${t} is required`}if(e.properties&&typeof e.properties=="object"){for(const t in e.properties)if(r&&t in r){const a=o(r[t],e.properties[t],n?n+"."+t:t);if(a)return a}}if(e.items&&Array.isArray(r))for(let t=0;t<r.length;t++){const a=o(r[t],e.items,n+"["+t+"]");if(a)return a}return null}return o(l,i,"")}async function v(l){try{const i=await fetch("jsonValidator.html");if(!i.ok)throw new Error(`Failed to load JSON Validator HTML: ${i.status}`);const o=await i.text();if(o.includes("<!DOCTYPE html")||o.includes("<html"))throw new Error("Invalid HTML content - contains full page structure");l.innerHTML=o,y()}catch(i){console.error("Error loading JSON Validator:",i),l.innerHTML='<div class="error">Failed to load JSON Validator tool</div>'}}function y(){const l=document.getElementById("json-validator-input"),i=document.getElementById("json-validator-schema"),o=document.getElementById("json-validator-output"),r=document.getElementById("json-validate-btn"),e=document.getElementById("json-clear-btn"),n=document.getElementById("json-validator-error");function t(u){n.textContent=u,n.classList.remove("hidden")}function a(){n.textContent="",n.classList.add("hidden")}r.onclick=()=>{a();let u,d;try{u=JSON.parse(l.value)}catch(s){t("Invalid JSON: "+s.message),o.value="";return}try{d=JSON.parse(i.value)}catch(s){t("Invalid JSON Schema: "+s.message),o.value="";return}const c=m(u,d);c?o.value="Validation failed: "+c:o.value="JSON is valid against the schema."},e.onclick=()=>{l.value="",i.value="",o.value="",a()},f()}export{v as load};
