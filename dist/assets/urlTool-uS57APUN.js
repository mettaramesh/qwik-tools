import{e as r,s as p}from"./index-Djcfbm3x.js";window.setupCopyButtons||(window.setupCopyButtons=p);async function m(t){try{const o=await fetch("urlTool.html");if(!o.ok)throw new Error(`Failed to load URL tool HTML: ${o.status}`);const e=await o.text();if(e.includes("<html>")||e.includes("<head>")||e.includes("<body>"))throw new Error("Invalid HTML content - contains full page structure");t.innerHTML=e,setTimeout(()=>{const s=t.querySelector("#url-input"),c=t.querySelector("#url-output");s&&(s.value=""),c&&(c.value="")},0)}catch(o){console.error("Failed to load URL tool:",o),t.innerHTML='<div class="error">Failed to load URL tool</div>'}}function f(){const t=document.getElementById("url-input"),o=document.getElementById("url-output"),e=document.getElementById("url-status"),s=n=>{n.preventDefault(),n.stopPropagation();try{o.value=r(encodeURIComponent(t.value)),e.className="success-message",e.textContent="URL encoded successfully",e.classList.remove("hidden")}catch(l){e.className="error-message",e.textContent="Encoding failed: "+l.message,e.classList.remove("hidden")}},c=n=>{n.preventDefault(),n.stopPropagation();try{o.value=r(decodeURIComponent(t.value)),e.className="success-message",e.textContent="URL decoded successfully",e.classList.remove("hidden")}catch(l){e.className="error-message",e.textContent="Decoding failed: "+l.message,e.classList.remove("hidden")}},i=n=>{n.preventDefault(),n.stopPropagation(),t.value="",o.value="",e.classList.add("hidden")},a=document.getElementById("url-encode-btn"),d=document.getElementById("url-decode-btn"),u=document.getElementById("url-clear-btn");a&&a.addEventListener("click",s),d&&d.addEventListener("click",c),u&&u.addEventListener("click",i),typeof window.setupCopyButtons=="function"&&window.setupCopyButtons()}async function v(t,o){await m(t),f()}export{v as load,m as loadURLTool,f as setupURLTool};
