async function f(r){try{const n=await fetch("src/qrGenerator.html");if(!n.ok)throw new Error(`Failed to load QR Generator HTML: ${n.status}`);const t=await n.text();if(t.includes("<!DOCTYPE html")||t.includes("<html"))throw new Error("Invalid HTML content - contains full page structure");r.innerHTML=t,p()}catch(n){console.error("Error loading QR Generator:",n),r.innerHTML='<div class="error">Failed to load QR Generator tool</div>';return}}function p(){const r=document.getElementById("qr-input"),n=document.getElementById("qr-generate-btn"),t=document.getElementById("qr-code-output"),c=document.getElementById("qr-error")||(()=>{const e=document.createElement("div");return e.id="qr-error",e.className="error-message hidden",t.parentNode.appendChild(e),e})(),a=document.getElementById("qr-download-btn"),l=document.getElementById("qr-clear-btn");function m(e){c.textContent=e,c.classList.remove("hidden")}function s(){c.textContent="",c.classList.contains("hidden")||c.classList.add("hidden")}document.querySelectorAll(".copy-btn").forEach(e=>{e.onclick=function(){const d=e.getAttribute("data-target"),o=document.getElementById(d);o&&navigator.clipboard.writeText(o.value||"").then(()=>{const g=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=g},1e3)})}});let i=null;function u(){s(),t.innerHTML="";const e=r.value.trim();if(!e){m("Please enter text or a URL to generate a QR code.");return}if(!window.QRious){const o=document.createElement("script");o.src="/public/qrious.min.js",o.onload=()=>u(),document.body.appendChild(o);return}i=new window.QRious({value:e,size:220,background:"white",foreground:"#222",level:"H"});const d=document.createElement("img");d.src=i.toDataURL(),d.alt="QR Code",t.appendChild(d)}n.onclick=u,l&&(l.onclick=()=>{r.value="",t.innerHTML="",s()}),a&&(a.onclick=()=>{if(!i)return;const e=document.createElement("a");e.href=i.toDataURL(),e.download="qr-code.png",e.click()})}export{f as load};
