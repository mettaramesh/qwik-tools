async function g(n){n.innerHTML="";const c=document.createElement("div");c.className="tool-header";const d=document.createElement("h2");d.textContent="Hex ↔ ASCII Converter",c.appendChild(d);const x=document.createElement("p");x.className="small",x.textContent='Convert between ASCII text and hexadecimal representation. Non-ASCII bytes will be shown as "." in ASCII output.',c.appendChild(x),n.appendChild(c);const C=document.createElement("div");C.className="grid-hexascii";const r=document.createElement("div");r.className="card";const I=document.createElement("h3");I.textContent="ASCII Input",r.appendChild(I);const h=document.createElement("textarea");h.id="asciiInput",h.rows=8,h.placeholder="Type or paste ASCII text here...",r.appendChild(h);const m=document.createElement("div");m.className="row";const b=document.createElement("button");b.className="btn btn--primary",b.id="btnToHex",b.textContent="ASCII → Hex",m.appendChild(b);const s=document.createElement("button");s.className="btn btn--outline",s.id="btnClearAscii",s.textContent="Clear",m.appendChild(s);const o=document.createElement("button");o.className="btn btn--outline",o.id="btnCopyHex",o.textContent="Copy Hex",m.appendChild(o),r.appendChild(m);const v=document.createElement("div");v.className="metrics",v.id="asciiMetrics",r.appendChild(v),C.appendChild(r);const p=document.createElement("div");p.className="card";const l=document.createElement("h3");l.textContent="Hex Input",p.appendChild(l);const u=document.createElement("textarea");u.id="hexInput",u.rows=8,u.placeholder="Type or paste hex codes here (e.g. 48656c6c6f)...",p.appendChild(u);const e=document.createElement("div");e.className="row";const t=document.createElement("button");t.className="btn btn--primary",t.id="btnToAscii",t.textContent="Hex → ASCII",e.appendChild(t);const i=document.createElement("button");i.className="btn btn--outline",i.id="btnClearHex",i.textContent="Clear",e.appendChild(i);const a=document.createElement("button");a.className="btn btn--outline",a.id="btnCopyAscii",a.textContent="Copy ASCII",e.appendChild(a),p.appendChild(e);const y=document.createElement("div");y.className="metrics",y.id="hexMetrics",p.appendChild(y),C.appendChild(p),n.appendChild(C);const A=document.createElement("div");A.className="row mt-24 jc-center";const E=document.createElement("button");E.className="btn btn--outline",E.id="btnSwap",E.textContent="Swap ↔",A.appendChild(E),n.appendChild(A),H()}function H(){const n=e=>document.getElementById(e),c=n("asciiInput"),d=n("hexInput"),x=n("btnToHex"),C=n("btnToAscii"),r=n("btnClearAscii"),I=n("btnClearHex"),h=n("btnCopyHex"),m=n("btnCopyAscii"),b=n("btnSwap"),s=n("asciiMetrics"),o=n("hexMetrics");function v(e){return Array.from(e).map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("")}function p(e){if(e=e.replace(/[^0-9a-fA-F]/g,""),e.length%2!==0)throw new Error("Hex length must be even.");let t="";for(let i=0;i<e.length;i+=2){const a=parseInt(e.slice(i,i+2),16);t+=a>=32&&a<=126?String.fromCharCode(a):"."}return t}function l(e,{textLen:t=null,byteLen:i=null,status:a=null}){e.innerHTML="",t!=null&&u(e,`Chars: ${t}`),i!=null&&u(e,`Bytes: ${i}`),a&&u(e,a.msg,a.ok?"ok":"bad")}function u(e,t,i=""){const a=document.createElement("span");a.className="pill "+(i||""),a.textContent=t,e.appendChild(a)}x.addEventListener("click",()=>{const e=c.value,t=v(e);d.value=t,l(s,{textLen:e.length,byteLen:e.length,status:{ok:!0,msg:"Converted to hex"}}),l(o,{textLen:null,byteLen:t.length/2,status:{ok:!0,msg:"Hex output"}})}),C.addEventListener("click",()=>{try{const e=d.value,t=p(e);c.value=t,l(o,{textLen:null,byteLen:e.replace(/[^0-9a-fA-F]/g,"").length/2,status:{ok:!0,msg:"Converted to ASCII"}}),l(s,{textLen:t.length,byteLen:t.length,status:{ok:!0,msg:"ASCII output"}})}catch(e){l(o,{status:{ok:!1,msg:e.message}})}}),r.addEventListener("click",()=>{c.value="",s.innerHTML=""}),I.addEventListener("click",()=>{d.value="",o.innerHTML=""}),h.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(d.value),l(o,{status:{ok:!0,msg:"Copied to clipboard"}})}catch{alert("Clipboard copy failed.")}}),m.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(c.value),l(s,{status:{ok:!0,msg:"Copied to clipboard"}})}catch{alert("Clipboard copy failed.")}}),b.addEventListener("click",()=>{const e=c.value;c.value=d.value,d.value=e,s.innerHTML="",o.innerHTML=""})}function w(n){if(!document.getElementById("hexascii-css-link")){const c=document.createElement("link");c.id="hexascii-css-link",c.rel="stylesheet",c.href="hexAsciiConverter.css",document.head.appendChild(c)}g(n)}export{w as load,g as loadHexAsciiConverter};
