async function v(s){try{const n=await fetch("jsonFormatter.html");if(!n.ok)throw new Error(`Failed to load JSON Formatter HTML: ${n.status}`);const e=await n.text();if(e.includes("<!DOCTYPE html")||e.includes("<html"))throw new Error("Invalid HTML content - contains full page structure");s.innerHTML=e}catch(n){console.error("Error loading JSON Formatter:",n),s.innerHTML='<div class="error">Failed to load JSON Formatter tool</div>'}}function f(){const s=document.getElementById("json-input"),n=document.getElementById("json-output"),e=document.getElementById("json-status"),l=t=>{t.preventDefault(),t.stopPropagation();try{const a=JSON.parse(s.value);n.value=JSON.stringify(a,null,2),e.className="success-message",e.textContent="Valid JSON formatted successfully",e.classList.remove("hidden")}catch(a){e.className="error-message",e.textContent=`Invalid JSON: ${a.message}`,e.classList.remove("hidden")}},d=t=>{t.preventDefault(),t.stopPropagation();try{const a=JSON.parse(s.value);n.value=JSON.stringify(a),e.className="success-message",e.textContent="JSON minified successfully",e.classList.remove("hidden")}catch(a){e.className="error-message",e.textContent=`Invalid JSON: ${a.message}`,e.classList.remove("hidden")}},m=t=>{t.preventDefault(),t.stopPropagation();try{JSON.parse(s.value),e.className="success-message",e.textContent="JSON is valid",e.classList.remove("hidden")}catch(a){e.className="error-message",e.textContent=`Invalid JSON: ${a.message}`,e.classList.remove("hidden")}},u=t=>{t.preventDefault(),t.stopPropagation(),s.value="",n.value="",e.classList.add("hidden")},o=document.getElementById("json-format-btn"),r=document.getElementById("json-minify-btn"),i=document.getElementById("json-validate-btn"),c=document.getElementById("json-clear-btn");o&&o.addEventListener("click",l),r&&r.addEventListener("click",d),i&&i.addEventListener("click",m),c&&c.addEventListener("click",u),s&&s.addEventListener("input",()=>{if(s.value.trim())try{const t=JSON.parse(s.value);n.value=JSON.stringify(t,null,2),e.className="success-message",e.textContent="Valid JSON",e.classList.remove("hidden")}catch{e.className="error-message",e.textContent="Invalid JSON",e.classList.remove("hidden")}else n.value="",e.classList.add("hidden")}),typeof window.setupCopyButtons=="function"&&window.setupCopyButtons()}async function p(s,n){await v(s)}export{p as load,v as loadJSONFormatter,f as setupJSONFormatter};
