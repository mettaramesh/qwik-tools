async function v(s){const e=await(await fetch("jsonFormatter.html")).text();s.innerHTML=e}function p(){const s=document.getElementById("json-input"),a=document.getElementById("json-output"),e=document.getElementById("json-status"),l=t=>{t.preventDefault(),t.stopPropagation();try{const n=JSON.parse(s.value);a.value=JSON.stringify(n,null,2),e.className="success-message",e.textContent="Valid JSON formatted successfully",e.classList.remove("hidden")}catch(n){e.className="error-message",e.textContent=`Invalid JSON: ${n.message}`,e.classList.remove("hidden")}},d=t=>{t.preventDefault(),t.stopPropagation();try{const n=JSON.parse(s.value);a.value=JSON.stringify(n),e.className="success-message",e.textContent="JSON minified successfully",e.classList.remove("hidden")}catch(n){e.className="error-message",e.textContent=`Invalid JSON: ${n.message}`,e.classList.remove("hidden")}},m=t=>{t.preventDefault(),t.stopPropagation();try{JSON.parse(s.value),e.className="success-message",e.textContent="JSON is valid",e.classList.remove("hidden")}catch(n){e.className="error-message",e.textContent=`Invalid JSON: ${n.message}`,e.classList.remove("hidden")}},u=t=>{t.preventDefault(),t.stopPropagation(),s.value="",a.value="",e.classList.add("hidden")},o=document.getElementById("json-format-btn"),i=document.getElementById("json-minify-btn"),c=document.getElementById("json-validate-btn"),r=document.getElementById("json-clear-btn");o&&o.addEventListener("click",l),i&&i.addEventListener("click",d),c&&c.addEventListener("click",m),r&&r.addEventListener("click",u),s&&s.addEventListener("input",()=>{if(s.value.trim())try{const t=JSON.parse(s.value);a.value=JSON.stringify(t,null,2),e.className="success-message",e.textContent="Valid JSON",e.classList.remove("hidden")}catch{e.className="error-message",e.textContent="Invalid JSON",e.classList.remove("hidden")}else a.value="",e.classList.add("hidden")}),typeof window.setupCopyButtons=="function"&&window.setupCopyButtons()}async function f(s,a){await v(s)}export{f as load,v as loadJSONFormatter,p as setupJSONFormatter};
