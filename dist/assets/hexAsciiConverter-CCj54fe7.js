async function f(n){const i=await fetch("hexAsciiConverter.html").then(a=>a.text());n.innerHTML=i,k()}function k(){const n=t=>document.getElementById(t),i=n("asciiInput"),a=n("hexInput"),d=n("btnToHex"),p=n("btnToAscii"),h=n("btnClearAscii"),v=n("btnClearHex"),x=n("btnCopyHex"),C=n("btnCopyAscii"),g=n("btnSwap"),r=n("asciiMetrics"),l=n("hexMetrics");function b(t){return Array.from(t).map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")}function m(t){if(t=t.replace(/[^0-9a-fA-F]/g,""),t.length%2!==0)throw new Error("Hex length must be even.");let e="";for(let s=0;s<t.length;s+=2){const c=parseInt(t.slice(s,s+2),16);e+=c>=32&&c<=126?String.fromCharCode(c):"."}return e}function o(t,{textLen:e=null,byteLen:s=null,status:c=null}){t.innerHTML="",e!=null&&u(t,`Chars: ${e}`),s!=null&&u(t,`Bytes: ${s}`),c&&u(t,c.msg,c.ok?"ok":"bad")}function u(t,e,s=""){const c=document.createElement("span");c.className="pill "+(s||""),c.textContent=e,t.appendChild(c)}d.addEventListener("click",()=>{const t=i.value,e=b(t);a.value=e,o(r,{textLen:t.length,byteLen:t.length,status:{ok:!0,msg:"Converted to hex"}}),o(l,{textLen:null,byteLen:e.length/2,status:{ok:!0,msg:"Hex output"}})}),p.addEventListener("click",()=>{try{const t=a.value,e=m(t);i.value=e,o(l,{textLen:null,byteLen:t.replace(/[^0-9a-fA-F]/g,"").length/2,status:{ok:!0,msg:"Converted to ASCII"}}),o(r,{textLen:e.length,byteLen:e.length,status:{ok:!0,msg:"ASCII output"}})}catch(t){o(l,{status:{ok:!1,msg:t.message}})}}),h.addEventListener("click",()=>{i.value="",r.innerHTML=""}),v.addEventListener("click",()=>{a.value="",l.innerHTML=""}),x.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(a.value),o(l,{status:{ok:!0,msg:"Copied to clipboard"}})}catch{alert("Clipboard copy failed.")}}),C.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(i.value),o(r,{status:{ok:!0,msg:"Copied to clipboard"}})}catch{alert("Clipboard copy failed.")}}),g.addEventListener("click",()=>{const t=i.value;i.value=a.value,a.value=t})}function y(n){if(!document.getElementById("hexascii-css-link")){const i=document.createElement("link");i.id="hexascii-css-link",i.rel="stylesheet",i.href="hexAsciiConverter.css",document.head.appendChild(i)}f(n)}export{y as load,f as loadHexAsciiConverter};
